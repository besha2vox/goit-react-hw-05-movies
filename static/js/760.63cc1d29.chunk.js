"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[760],{2383:function(e,t,n){var r=n(4942),i=n(5861),u=n(5671),s=n(3144),a=n(7757),c=n.n(a),o=n(1912),f=function(){function e(){(0,u.Z)(this,e),this._queryToFetch=null,this.BASE_URL="https://api.themoviedb.org/3/",this.API_KEY="9cca312caffd11f4ae9f11244d585025"}return(0,s.Z)(e,[{key:"basicFetch",value:function(){var e=(0,i.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)(t,{baseURL:this.BASE_URL,params:(0,r.Z)({api_key:this.API_KEY},n,this.queryToFetch)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTrendingMovies",value:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"trending/movie/day",e.next=3,this.basicFetch("trending/movie/day");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSearchMoviesByID",value:function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t),e.next=3,this.basicFetch(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchMoviesCredits",value:function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/credits"),e.next=3,this.basicFetch(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSearchMoviesReview",value:function(){var e=(0,i.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="movie/".concat(t,"/reviews"),e.next=3,this.basicFetch(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoviesByKeyWord",value:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"search/movie",e.next=3,this.basicFetch("search/movie","query");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryToFetch",get:function(){return this._queryToFetch},set:function(e){this._queryToFetch=e}}]),e}(),p=new f;t.Z=p},4584:function(e,t,n){n.d(t,{Z:function(){return a}});var r,i=n(168),u=n(6444).ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 0 auto;\n  max-width: 1440px;\n"]))),s=n(184),a=function(e){var t=e.children;return(0,s.jsx)(u,{children:t})}},4447:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r,i=n(168),u=n(6444).ZP.p(r||(r=(0,i.Z)(["\n  text-align: center;\n  font-size: 28px;\n  font-weight: 700;\n"]))),s=n(2007),a=n.n(s),c=n(184),o=function(e){var t=e.text;return(0,c.jsx)(u,{children:t})},f=o;o.propType={text:a().string.isRequired}},1544:function(e,t,n){n.d(t,{a:function(){return u}});var r,i=n(168),u=n(6444).ZP.ul(r||(r=(0,i.Z)(["\n  list-style: none;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 250px);\n  gap: 16px;\n"])))},6078:function(e,t,n){n.d(t,{V:function(){return a},c:function(){return c}});var r,i,u=n(168),s=n(6444),a=(0,s.iv)(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  background-color: #ffffff;\n  transition: box-shadow 300ms ease-in-out, transform 300ms ease-in-out;\n  border: 1px solid #2e2e2e70;\n  border-radius: 10px;\n  overflow: hidden;\n\n  & img {\n    object-fit: cover;\n    min-height: 400px;\n  }\n\n  & div {\n    padding: 4px;\n    display: inherit;\n    flex-direction: column;\n    justify-content: end;\n    flex-grow: 1;\n  }\n\n  &:hover {\n    box-shadow: 0 0 3px 2px #db8f2cac;\n    transform: scale(1.2);\n  }\n"]))),c=s.ZP.li(i||(i=(0,u.Z)(["\n  ","\n"])),a)},3258:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(6078),i=n(1087),u=n(2007),s=n.n(u),a=n(7689),c=n(184),o=function(e){var t=e.movieId,n=e.title,u=e.poster,s=(0,a.TH)();return(0,c.jsx)(r.c,{children:(0,c.jsxs)(i.rU,{to:"/movies/".concat(t),state:{from:s},children:[(0,c.jsx)("img",{src:u,alt:n}),(0,c.jsx)("div",{children:(0,c.jsx)("p",{children:n})})]})})},f=o;o.propType={movieId:s().number.isRequired,title:s().string.isRequired,poster:s().string.isRequired};var p=n(1544),h=function(e){var t=e.movies;return(0,c.jsx)(p.a,{children:t.map((function(e){var t=e.id,n=e.title,r=e.poster;return(0,c.jsx)(f,{movieId:t,title:n,poster:r},t)}))})},d=h;h.propType={movies:s().arrayOf(s().shape({id:s().number.isRequired,title:s().string.isRequired,poster:s().string.isRequired}))}},6447:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r,i=n(5861),u=n(9439),s=n(7757),a=n.n(s),c=n(2791),o=n(1087),f=n(2383),p=n(4584),h=n(168),d=n(6444).ZP.form(r||(r=(0,h.Z)(["\n  width: fit-content;\n  margin: 0 auto;\n"]))),v=n(2007),l=n.n(v),m=n(184),x=function(e){var t=e.search,n=e.onFormSubmit,r=(0,c.useState)(t),i=(0,u.Z)(r,2),s=i[0],a=i[1];return(0,m.jsxs)(d,{onSubmit:function(e){e.preventDefault(),n(s)},children:[(0,m.jsx)("input",{type:"text",value:s,onChange:function(e){var t=e.target;a(t.value)}}),(0,m.jsx)("button",{type:"submit",children:"Search"})]})},y=x;x.propType={onFormSubmit:l().func.isRequired};var g=n(3258),Z=n(7116),b=n(4447),w=function(){var e=(0,c.useState)([]),t=(0,u.Z)(e,2),n=t[0],r=t[1],s=(0,c.useState)(!1),h=(0,u.Z)(s,2),d=h[0],v=h[1],l=(0,c.useState)(!1),x=(0,u.Z)(l,2),w=x[0],j=x[1],q=(0,o.lr)({query:""}),k=(0,u.Z)(q,2),_=k[0],F=k[1],T=_.get("query");(0,c.useEffect)((function(){if(T&&T!==f.Z.queryToFetch){var e=function(){var e=(0,i.Z)(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),f.Z.queryToFetch=T,e.prev=2,e.next=5,f.Z.getMoviesByKeyWord();case 5:t=e.sent,n=t.data.results,i=n.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return{id:t,title:n,poster:r?"https://image.tmdb.org/t/p/original".concat(r):"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1Zco_AzlB5030ccqs-SkdHxO_PmzfBw5sjXSKCjfaX46A9-YEg-9_vjqAHsvgQTw3kbw&usqp=CAU"}})),j(!0),r(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){return f.Z.queryToFetch=null}}}),[T]);var S=n.length<1&&w;return(0,m.jsx)("main",{children:(0,m.jsxs)(p.Z,{children:[(0,m.jsx)(y,{search:T,onFormSubmit:function(e){F({query:e})}}),!!n.length&&(0,m.jsx)(g.Z,{movies:n}),S&&(0,m.jsx)(b.default,{text:"Movies not found. Try again."}),!w&&(0,m.jsx)(b.default,{text:"Enter the name of the movie to search"}),d&&(0,m.jsx)(Z.Z,{})]})})}}}]);
//# sourceMappingURL=760.63cc1d29.chunk.js.map