{"version":3,"file":"static/js/760.3380b60e.chunk.js","mappings":"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","sources":["API/API.js","components/Container/Container.styled.jsx","components/Container/Container.jsx","components/Message/Message.styled.jsx","components/Message/Message.jsx","components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesListItem/MoviesListItem.styled.jsx","components/MoviesList/MoviesListItem/MoviesListItem.jsx","components/MoviesList/MoviesList.jsx","components/SearchForm/SearchForm.styled.jsx","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nclass API {\n  constructor() {\n    this._queryToFetch = null;\n    this.BASE_URL = 'https://api.themoviedb.org/3/';\n    this.API_KEY = '9cca312caffd11f4ae9f11244d585025';\n  }\n\n  async basicFetch(url, query) {\n    return await axios(url, {\n      baseURL: this.BASE_URL,\n      params: {\n        api_key: this.API_KEY,\n        [query]: this.queryToFetch,\n      },\n    });\n  }\n\n  async getTrendingMovies() {\n    const url = 'trending/movie/day';\n\n    return await this.basicFetch(url);\n  }\n\n  async getSearchMoviesByID(id) {\n    const url = `movie/${id}`;\n\n    return await this.basicFetch(url);\n  }\n\n  async getSearchMoviesCredits(id) {\n    const url = `movie/${id}/credits`;\n\n    return await this.basicFetch(url);\n  }\n\n  async getSearchMoviesReview(id) {\n    const url = `movie/${id}/reviews`;\n\n    return await this.basicFetch(url);\n  }\n\n  async getMoviesByKeyWord() {\n    const url = 'search/movie';\n\n    return await this.basicFetch(url, 'query');\n\n    // const params = new URLSearchParams({\n    //   api_key: this.API_KEY,\n\n    //   query: this._queryToFetch,\n    //   page: this.pageToFetch,\n    // });\n\n    // const url = `${this.BASE_URL}search/movie?${params.toString()}`;\n\n    // return await this.basicFetch(url);\n  }\n\n  get queryToFetch() {\n    return this._queryToFetch;\n  }\n\n  set queryToFetch(keyword) {\n    this._queryToFetch = keyword;\n  }\n}\n\nconst api = new API();\n\nexport default api;\n","import styled from 'styled-components';\n\nconst CenteredContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin: 0 auto;\n  max-width: 1440px;\n`;\n\nexport { CenteredContainer };\n","import { CenteredContainer } from './Container.styled';\n\nconst Container = ({ children }) => {\n  return <CenteredContainer>{children}</CenteredContainer>;\n};\n\nexport default Container;\n","import styled from 'styled-components';\n\nconst Discription = styled.p`\n  text-align: center;\n  font-size: 28px;\n  font-weight: 700;\n`;\n\nexport { Discription };\n","import { Discription } from './Message.styled';\nimport PropType from 'prop-types';\n\nconst Message = ({ text }) => {\n  return <Discription>{text}</Discription>;\n};\n\nexport default Message;\n\nMessage.propType = {\n  text: PropType.string.isRequired,\n};\n","import styled from 'styled-components';\n\nconst List = styled.ul`\n  list-style: none;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 250px);\n  gap: 16px;\n`;\n\nexport { List };\n","import styled, { css } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst itemStyles = css`\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n  background-color: #ffffff;\n  transition: box-shadow 300ms ease-in-out, transform 300ms ease-in-out;\n  border: 1px solid #2e2e2e70;\n  border-radius: 10px;\n  overflow: hidden;\n\n  & img {\n    object-fit: cover;\n    min-height: 400px;\n  }\n\n  & div {\n    padding: 4px;\n    display: inherit;\n    flex-direction: column;\n    justify-content: end;\n    flex-grow: 1;\n  }\n`;\n\nconst Item = styled.li`\n  ${itemStyles}\n`;\n\nconst ItemLink = styled(Link)`\n  &:hover {\n    box-shadow: 0 0 3px 2px #db8f2cac;\n    transform: scale(1.2);\n  }\n`;\n\nexport { ItemLink, itemStyles, Item };\n","import { Item, ItemLink } from './MoviesListItem.styled';\nimport PropType from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nconst MoviesListItem = ({ movieId, title, poster }) => {\n  const location = useLocation();\n\n  return (\n    <Item>\n      <ItemLink to={`/movies/${movieId}`} state={{ from: location }}>\n        <img src={poster} alt={title} />\n        <div>\n          <p>{title}</p>\n        </div>\n      </ItemLink>\n    </Item>\n  );\n};\n\nexport default MoviesListItem;\n\nMoviesListItem.propType = {\n  movieId: PropType.number.isRequired,\n  title: PropType.string.isRequired,\n  poster: PropType.string.isRequired,\n};\n","import MoviesListItem from './MoviesListItem';\nimport { List } from './MoviesList.styled';\nimport PropType from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n  return (\n    <List>\n      {movies.map(({ id, title, poster }) => (\n        <MoviesListItem movieId={id} key={id} title={title} poster={poster} />\n      ))}\n    </List>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propType = {\n  movies: PropType.arrayOf(\n    PropType.shape({\n      id: PropType.number.isRequired,\n      title: PropType.string.isRequired,\n      poster: PropType.string.isRequired,\n    })\n  ),\n};\n","import styled from 'styled-components';\n\nconst Form = styled.form`\n  width: fit-content;\n  margin: 0 auto;\n`;\n\nexport { Form };\n","import { Form } from './SearchForm.styled';\nimport { useState } from 'react';\nimport PropType from 'prop-types';\n\nconst SearchForm = ({ search, onFormSubmit }) => {\n  const [query, setQuery] = useState(search);\n\n  const handlerChange = ({ target }) => {\n    setQuery(target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onFormSubmit(query);\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <input type=\"text\" value={query} onChange={handlerChange} />\n      <button type=\"submit\">Search</button>\n    </Form>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propType = {\n  onFormSubmit: PropType.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport api from 'API/API';\nimport Container from 'components/Container';\nimport SearchForm from 'components/SearchForm';\nimport MoviesList from 'components/MoviesList';\nimport Loader from 'components/Loader';\nimport Message from 'components/Message';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isMovieFetched, setIsMovieFetched] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams({ query: '' });\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query || query === api.queryToFetch) return;\n\n    const getMovies = async () => {\n      setLoading(true);\n      api.queryToFetch = query;\n      try {\n        const response = await api.getMoviesByKeyWord();\n        const { results } = response.data;\n        const newMovieList = results.map(({ id, title, poster_path }) => {\n          return {\n            id,\n            title,\n            poster: poster_path\n              ? `https://image.tmdb.org/t/p/original${poster_path}`\n              : 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1Zco_AzlB5030ccqs-SkdHxO_PmzfBw5sjXSKCjfaX46A9-YEg-9_vjqAHsvgQTw3kbw&usqp=CAU',\n          };\n        });\n\n        setIsMovieFetched(true);\n        setMovies(newMovieList);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getMovies();\n    return () => (api.queryToFetch = null);\n  }, [query]);\n\n  const onFormSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  const isMessegeShow = movies.length < 1 && isMovieFetched;\n\n  return (\n    <main>\n      <Container>\n        <SearchForm search={query} onFormSubmit={onFormSubmit} />\n        {!!movies.length && <MoviesList movies={movies} />}\n        {isMessegeShow && <Message text=\"Movies not found. Try again.\" />}\n        {!isMovieFetched && (\n          <Message text=\"Enter the name of the movie to search\" />\n        )}\n        {loading && <Loader />}\n      </Container>\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["API","this","_queryToFetch","BASE_URL","API_KEY","url","query","axios","baseURL","params","api_key","queryToFetch","basicFetch","id","keyword","api","CenteredContainer","styled","children","Discription","Message","text","propType","PropType","List","itemStyles","css","Item","ItemLink","Link","MoviesListItem","movieId","title","poster","location","useLocation","to","state","from","src","alt","MoviesList","movies","map","Form","SearchForm","search","onFormSubmit","useState","setQuery","onSubmit","e","preventDefault","type","value","onChange","target","setMovies","loading","setLoading","isMovieFetched","setIsMovieFetched","useSearchParams","searchParams","setSearchParams","get","useEffect","getMovies","response","results","data","newMovieList","poster_path","console","log","isMessegeShow","length","Container","Loader"],"sourceRoot":""}